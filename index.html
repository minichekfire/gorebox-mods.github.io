<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>GoreBox Mods</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Motiva Sans Bold', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    body {
      background-color: #0f1923;
      color: #d3d3d3;
      min-height: 100vh;
      padding: 0;
      overflow-x: hidden;
    }

    header.nav {
      background: #171a21;
      height: 48px;
      display: flex;
      align-items: center;
      padding: 0 24px;
      border-bottom: 1px solid #2e3440;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.4);
    }

    .logo {
      color: #4f86f7;
      font-size: 1.4rem;
      font-weight: bold;
    }

    .container {
      max-width: 1280px;
      margin: 24px auto;
      padding: 0 24px;
    }

    h1 {
      font-size: 2.4rem;
      font-weight: 700;
      color: #ffffff;
      margin-bottom: 12px;
    }

    .subtitle {
      color: #a0a0aa;
      font-size: 1.1rem;
      margin-bottom: 28px;
      line-height: 1.6;
    }

    .mods-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
      gap: 20px;
    }

    .mod-card {
      background: #1b2838;
      border-radius: 4px;
      cursor: pointer;
      transition: transform 0.2s, box-shadow 0.2s;
      width: 180px;
      text-align: center;
    }

    .mod-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
      background: #213045;
    }

    .mod-preview {
      width: 100%;
      aspect-ratio: 16 / 9;
      overflow: hidden;
      border-bottom: 1px solid #2a3a4d;
    }

    .mod-preview img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }

    .mod-info {
      padding: 10px 8px;
    }

    .mod-title {
      font-size: 0.95rem;
      font-weight: 600;
      color: #ffffff;
      line-height: 1.3;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    .mod-author {
      font-size: 0.8rem;
      color: #8b9ba7;
      margin-top: 4px;
    }

    .overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      backdrop-filter: blur(2px);
      z-index: 999;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s;
    }

    .overlay.active {
      opacity: 1;
      visibility: visible;
    }

    .side-panel {
      position: fixed;
      top: 0;
      right: -500px;
      width: 500px;
      height: 100vh;
      background: #1b2838;
      color: #e0e0e0;
      padding: 32px;
      z-index: 1000;
      transition: right 0.4s ease;
      overflow-y: auto;
      border-left: 1px solid #2e3b4e;
      box-shadow: -2px 0 10px rgba(0, 0, 0, 0.6);
    }

    .side-panel.active {
      right: 0;
    }

    .close-btn {
      position: absolute;
      top: 20px;
      right: 20px;
      background: #2a3a4d;
      color: #a0a0a0;
      border: none;
      width: 32px;
      height: 32px;
      border-radius: 4px;
      font-size: 1.2rem;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .close-btn:hover {
      background: #3a4a5d;
      color: #ffffff;
    }

    .panel-icon {
      width: 100%;
      max-height: 280px;
      margin-bottom: 20px;
      border-radius: 4px;
      overflow: hidden;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
    }

    .panel-icon img {
      width: 100%;
      height: auto;
      display: block;
    }

    #videoContainer {
      display: none;
      margin: 20px 0;
    }

    #videoContainer video,
    #videoContainer iframe {
      width: 100%;
      aspect-ratio: 16 / 9;
      border-radius: 4px;
      background: #000;
    }

    .panel-name {
      font-size: 1.8rem;
      color: #ffffff;
      margin-bottom: 8px;
    }

    .panel-author {
      color: #8b9ba7;
      font-size: 1.1rem;
      margin-bottom: 16px;
    }

    .panel-description {
      color: #c0c0c0;
      line-height: 1.6;
      margin-bottom: 24px;
      white-space: pre-line;
    }

    .download-btn {
      width: 100%;
      padding: 12px;
      background: #4f86f7;
      color: white;
      border: none;
      border-radius: 4px;
      font-size: 1.1rem;
      font-weight: 600;
      cursor: pointer;
      transition: background 0.2s;
    }

    .download-btn:hover {
      background: #3a70e0;
    }

    @media (max-width: 768px) {
      .side-panel {
        width: 100%;
        right: -100%;
      }

      .mods-grid {
        grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
        gap: 16px;
      }

      .mod-card {
        width: 140px;
      }
    }
  </style>
</head>
<body>
  <header class="nav">
    <div class="logo">GoreBox Mods</div>
  </header>

  <div class="container">
    <h1>GoreBox Mods</h1>
    <p class="subtitle">I publish all the mods I find or create here. If you'd like to publish a mod here or delete yours, please DM me on Discord: bigwater6464</p>

    <div class="mods-grid" id="modsGrid">
      <!-- Generated by JS -->
    </div>
  </div>

  <div class="overlay" id="overlay"></div>

  <div class="side-panel" id="sidePanel">
    <button class="close-btn" id="closeBtn">
      <i class="fas fa-times"></i>
    </button>
    <div class="panel-icon">
      <img id="panelIconImg" src="" alt="Mod Image">
    </div>
    <div id="videoContainer"></div>
    <h2 class="panel-name" id="panelName"></h2>
    <p class="panel-author" id="panelAuthor"></p>
    <p class="panel-description" id="panelDescription"></p>
    <button class="download-btn" id="downloadBtn">
      <i class="fas fa-download"></i> Install Mod
    </button>
  </div>

  <script>
    const modData = {
      1: {
        name: "Custom Menu Music",
        author: "bigWater6464",
        description: "Replaces the standard menu music with a custom track.\nConfig key: M",
        icon: "img/mod1.png",
        downloadUrl: "mods/CustomMenuMusic.7z"
      },
      2: {
        name: "Maxwell Mod",
        author: "Easy Mods (t.me/EasyMods1gorebox)",
        description: "Adds Maxwell's cat to the game. Press 'M' in-game to spawn it.",
        icon: "img/mod2.png",
        downloadUrl: "mods/Maxwell mod.7z"
      },
      3: {
        name: "BoomBox",
        author: "Easy Mods (t.me/EasyMods1gorebox)",
        description: "Adds A Working Boombox. To start it, press the 'j' key, press 'm' for the setup menu. You can put your own music by changing one of the original ones along the Boombox/audio/ path (THE MAIN THING IS TO CHANGE THE NAME TO music1,2,3,4,5)",
        icon: "img/mod3.jpg",
        downloadUrl: "mods/Boombox.zip",
      },
      4: {
        name: "Third Person Reimagined V2",
        author: "O sebe o sebe",
        description: "Third-person camera mod with enhanced controls and smooth movement.",
        icon: "img/mod4.png",
        downloadUrl: "mods/ThirdPersonReimagined V2.rar",
        video: "videos/thirdperson_demo.mp4"
      }
    };

    const modsGrid = document.getElementById('modsGrid');

    Object.entries(modData).forEach(([id, mod]) => {
      const card = document.createElement('div');
      card.className = 'mod-card';
      card.setAttribute('data-mod', id);
      const imgSrc = mod.icon || 'https://via.placeholder.com/180x100/2a3a4d/ffffff?text=No+Image';
      card.innerHTML = `
        <div class="mod-preview">
          <img src="${imgSrc}" alt="${mod.name}" onerror="this.src='https://via.placeholder.com/180x100/2a3a4d/ffffff?text=No+Image'">
        </div>
        <div class="mod-info">
          <div class="mod-title">${mod.name}</div>
          <div class="mod-author">by ${mod.author}</div>
        </div>
      `;
      modsGrid.appendChild(card);
    });

    const sidePanel = document.getElementById('sidePanel');
    const overlay = document.getElementById('overlay');
    const closeBtn = document.getElementById('closeBtn');
    const panelIconImg = document.getElementById('panelIconImg');
    const panelName = document.getElementById('panelName');
    const panelAuthor = document.getElementById('panelAuthor');
    const panelDescription = document.getElementById('panelDescription');
    const downloadBtn = document.getElementById('downloadBtn');
    const videoContainer = document.getElementById('videoContainer');

    document.querySelectorAll('.mod-card').forEach(card => {
      card.addEventListener('click', () => {
        const modId = card.getAttribute('data-mod');
        const mod = modData[modId];

        panelIconImg.src = mod.icon || 'https://via.placeholder.com/500x280/1b2838/ffffff?text=No+Preview';
        panelName.textContent = mod.name;
        panelAuthor.textContent = `by ${mod.author}`;
        panelDescription.textContent = mod.description;

        if (mod.video) {
          videoContainer.innerHTML = '';
          if (mod.video.endsWith('.mp4') || mod.video.endsWith('.webm')) {
            const video = document.createElement('video');
            video.controls = true;
            video.src = mod.video;
            videoContainer.appendChild(video);
          } else {
            const iframe = document.createElement('iframe');
            iframe.src = mod.video;
            iframe.allowFullscreen = true;
            iframe.allow = "autoplay; encrypted-media";
            videoContainer.appendChild(iframe);
          }
          videoContainer.style.display = 'block';
        } else {
          videoContainer.style.display = 'none';
          videoContainer.innerHTML = '';
        }

        sidePanel.setAttribute('data-current-mod', modId);
        sidePanel.classList.add('active');
        overlay.classList.add('active');
        document.body.style.overflow = 'hidden';
      });
    });

    function closePanel() {
      sidePanel.classList.remove('active');
      overlay.classList.remove('active');
      document.body.style.overflow = 'auto';
      const iframe = videoContainer.querySelector('iframe');
      if (iframe) {
        iframe.src = iframe.src; // reset to stop YouTube
      }
    }

    closeBtn.addEventListener('click', closePanel);
    overlay.addEventListener('click', closePanel);
    document.addEventListener('keydown', e => e.key === 'Escape' && closePanel());

    downloadBtn.addEventListener('click', () => {
      const modId = sidePanel.getAttribute('data-current-mod');
      const mod = modData[modId];
      if (mod?.downloadUrl) {
        window.location.href = mod.downloadUrl;
      } else {
        alert("Download link not available.");
      }
    });
  </script>
</body>
</html>
